# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET     /                           controllers.Application.index

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public", file)

########################################################################################################################
# MegaMek Manager REST API

GET     /mmm/servers                controllers.mmm.Servers.query
PUT     /mmm/servers/:port          controllers.mmm.Servers.create(port: Int, password: String ?= "")
DELETE  /mmm/servers/:port          controllers.mmm.Servers.delete(port: Int)

GET     /mmm/admin/config           controllers.mmm.admin.Config.get
PUT     /mmm/admin/config           controllers.mmm.admin.Config.set

########################################################################################################################
# SecureSocial stuff

GET     /login                      controllers.customsecuresocial.Forwarder.login
POST    /logout                     controllers.customsecuresocial.Forwarder.logout
GET     /signup                     controllers.customsecuresocial.Forwarder.startSignUp
POST    /signup                     controllers.customsecuresocial.Forwarder.handleStartSignUp
GET     /signup/:token              controllers.customsecuresocial.Forwarder.signUp(token)
POST    /signup/:token              controllers.customsecuresocial.Forwarder.handleSignUp(token)
GET     /reset                      controllers.customsecuresocial.Forwarder.startResetPassword
POST    /reset                      controllers.customsecuresocial.Forwarder.handleStartResetPassword
GET     /reset/:token               controllers.customsecuresocial.Forwarder.resetPassword(token)
POST    /reset/:token               controllers.customsecuresocial.Forwarder.handleResetPassword(token)
GET     /password                   controllers.customsecuresocial.Forwarder.passwordChange
POST    /password                   controllers.customsecuresocial.Forwarder.handlePasswordChange

########################################################################################################################
# Needed for reverse routing

GET     /login                      securesocial.controllers.LoginPage.login
POST    /logout                     securesocial.controllers.LoginPage.logout
GET     /signup                     securesocial.controllers.Registration.startSignUp
POST    /signup                     securesocial.controllers.Registration.handleStartSignUp
GET     /signup/:token              securesocial.controllers.Registration.signUp(token)
POST    /signup/:token              securesocial.controllers.Registration.handleSignUp(token)
GET     /reset                      securesocial.controllers.Registration.startResetPassword
POST    /reset                      securesocial.controllers.Registration.handleStartResetPassword
GET     /reset/:token               securesocial.controllers.Registration.resetPassword(token)
POST    /reset/:token               securesocial.controllers.Registration.handleResetPassword(token)
GET     /password                   securesocial.controllers.PasswordChange.page
POST    /password                   securesocial.controllers.PasswordChange.handlePasswordChange

GET     /authenticate/:provider     securesocial.controllers.ProviderController.authenticate(provider)
POST    /authenticate/:provider     securesocial.controllers.ProviderController.authenticateByPost(provider)
GET     /not-authorized             securesocial.controllers.ProviderController.notAuthorized
